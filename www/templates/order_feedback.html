<ion-modal-view style="z-index: 20000;">
    <ion-header-bar class="bar bar-header bar-balanced bar-danger">
      <h1 class="title" style="text-align: left;">
          <span style="float: left;">
              <i class="icon ion-android-arrow-back" ng-click="closeModal()"
              style="font-size: 1.6rem;"></i>
          </span>&emsp;
          <!-- {{user.user_type === 'CUSTOMER' ? 'Courier Confirmation' : 'Accept Order'}} -->
          {{user.user_type !== 'COURIER' ? 'Order Details' : 'Accept Order'}}
      </h1>
      <!-- <button class="button button-clear button-primary" ng-click="closeModal()">
          <i class="icon ion-close-circled"></i>
      </button> -->
    </ion-header-bar>
    <ion-content class="pad-0">
      <div class="list pad-h-0">
          <div class="sub-form col-12 margin-t-5" ng-if="user.user_type === 'COURIER'">
              <div class="col-12 blink-text pad-l-15 text-left" style="margin-top:0;">
                  <small>Pending Order</small>
              </div>
              <div class="col-12 sub-form-title flex pad-r-0">
                  <div class="col-12 pad-h-0">
                    <div class="col-xs-12 fs-30">
                        <small>{{orders.customer_name || 'Antony Owaga'}}</small>
                    </div>
                    <div class="col-xs-12 pad-t-5 margin-t-5">
                        <small><span class="text-muted">Total Cost:</span>
                        {{(orders.cost || 1500)  | currency: 'KES '}}</small>
                    </div>
                  </div>
              </div>
              <div class="col-12 items-cont" ng-if="items.length > 0">
                  <div class="col-12 grid-lines" ng-repeat="orders">
                      <div class="line-details col-12 pad-l-15">
                          <div class="col-12">
                              <small>{{orders.customer_name}}</small>
                          </div>
                          <div class="col-12">
                              <div class="col-12">
                                  <small><small>{{orders.order_time | date: 'mediumDate'}}</small></small>
                              </div>
                          </div>
                      </div>
                      <div class="line-action col-1">
                          <span class="label label-warning">
                              {{orders.status}}
                          </span>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-12" ng-if="user.user_type === 'COURIER'">
              <div class="col-12 sub-form">
                  <div class="col-12 pad-h-15 details-cont">
                      <span class="text-muted">
                          <small>
                              Order Details
                          </small>
                      </span>
                  </div>
                  <div class="col-12 pad-h-15">
                      <div class="col-12">
                          <div class="col-12 text-danger">
                              <small>Item</small>
                          </div>
                          <div class="col-12">
                              <small>{{orders.goods_name}}</small>
                          </div>
                      </div>
                  </div>
                  <div class="col-12 pad-h-15">
                      <div class="col-12">
                          <div class="col-12 text-danger">
                              <small>Item Description</small>
                          </div>
                          <div class="col-12" style="color: #666;">
                              <small>{{orders.goods_description}}</small>
                          </div>
                      </div>
                  </div>
                  <div class="col-12 pad-h-15 pad-v-10">
                      <div class="col-12">
                          <div class="col-12 text-danger">
                              <small>Pick Up</small>
                          </div>
                          <div class="col-12" style="color: #666;">
                              <small>{{orders.source_name}}</small>
                          </div>
                      </div>
                  </div>
                  <div class="col-12 pad-h-15">
                      <div class="col-12">
                          <div class="col-12 text-danger">
                              <small>Destination</small>
                          </div>
                          <div class="col-12" style="color: #666;">
                              <small>{{orders.destination_name}}</small>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-12 flex margin-t-40 pad-t-20" ng-if="user.user_type === 'COURIER'">
              <div class="col-6 flex" style="justify-content: center;">
                  <button type="button" class="button btn-rnd button-balanced btn-rnd-lg"
                  ng-click="acceptOrder()">
                      <i class="icon ion-checkmark-round"></i>
                  </button>
              </div>
              <div class="col-6 flex" style="justify-content: center;">
                  <button class="button btn-rnd button-primary btn-rnd-lg"
                  ng-click="closeModal()">
                      <i class="icon ion-close-round"></i>
                  </button>
              </div>
          </div>
          <div class="col-12 margin-t-0 pad-r-0" style="position: relative;display: inline-block;margin-top: 75px;"
          ng-if='user.user_type === "CUSTOMER"'>
              <div class="sub-form col-12 margin-t-5">
                  <div style="width: 100%;margin-top:0;"></div>
                  <div map-lazy-load="https://maps.google.com/maps/api/js"
                      map-lazy-load-params="{{googleMapsUrl}}">
                      <!-- Retunr if zooming doesn't work -->
                      <!-- zoom="17" -->
                      <ng-map style="height: 45vh;" zoom-to-include-markers="auto"
                      geo-callback="callbackFunc('you')">
                          <marker position="{{src}}" animation="DROP" centered="true"
                          draggable="false">
                          </marker>
                          <marker position="{{latlng}}" animation="DROP" centered="true"
                          draggable="false" ng-if="latlng"
                          icon="{ url:'img/map_markers/darkgreen_MarkerD.png' }">
                          </marker>
                          <directions
                            polyline-options='{strokeColor: "red"}'
                            waypoints="{{way_points}}"
                            suppress-markers="true"
                            origin="{{src}}"
                            destination="{{latlng}}"
                            >
                          </directions>
                      </ng-map>
                  </div>
              </div>
              <div class="col-12 subform" ng-if="!findCourier">
                  <div class="col-12 pad-h-15 details-cont">
                      <span class="text-muted">
                          <small>
                              Enter following mandatory details
                          </small>
                      </span>
                  </div>
                  <form>
                      <div class="form-cont margin-b-10 pad-t-30">
                          <div class="group">
                              <input type="text" required
                                     placeholder="Enter item(s) name max of 3 items"
                                     name="name"
                                     ng-model="order.name">
                              <span class="highlight"></span>
                              <span class="bar"></span>
                              <label>Item(s) Name</label>
                          </div>
                      </div>
                      <div class="form-cont margin-b-10 pad-t-15">
                          <div class="group">
                              <textarea
                                 placeholder="Enter brief description of items like total items"
                                 name="description" rows="3"
                                 ng-model="order.description">
                              </textarea>
                              <span class="highlight"></span>
                              <span class="bar"></span>
                              <label>Description</label>
                          </div>
                      </div>
                      <div class="form-cont margin-b-0 pad-t-5">
                          <button type="button" class="button button-block button-primary"
                          ng-click="addOrder(order)"
                          style="margin-top: -10px;min-height: 40px;padding:0 8px;">
                              <i class="icon ion-card">  CONFIRM PICKUP </i>
                          </button>
                      </div>
                  </form>
              </div>
          </div>
          <div class="col-12" ng-if="findCourier">
              <div class="col-12">
                  <div class="showbox" style="top:18.5rem;">
                      <div class="circular-loader">
                          <svg class="circular" viewBox="25 25 50 50">
                            <circle class="path" cx="50" cy="50" r="20" fill="none"
                            stroke-width="2" stroke-miterlimit="10"></circle>
                          </svg>
                      </div>
                  </div>
              </div>
              <div class="col-12 blink-text">
                <div class="col-12 margin-b-20">
                    Finding nearest available courier...
                </div>
              </div>
              <div class="pad-h-15 margin-t-20">
                  <button class="button button-block button-primary">
                      CANCEL ORDER REQUEST
                  </button>
              </div>
          </div>
      </div>
    </ion-content>
</ion-modal-view>
